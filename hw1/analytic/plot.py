import numpy as np
from matplotlib import pyplot as plt

def gen_data():
	num=100
	x=np.zeros([num,1])
	for i in range(num):
		x[i,:] = i/num
	return x

def pc(x):
	return (0.24*x+0.36)/(0.16*x+0.44)

pf_b_mean = [2.144489669108821, 2.8087155233809638, 4.670022301315997, 7.087370954952304, 16.57309797672351, 43.07141148058186, 70.53857269362473]
if __name__ == "__main__":
	x = gen_data()
	y = pc(x)

	ekf_b_mean = [0.8429376470968624, 1.7719870312908068, 3.485982149815718, 7.186677164392568, 15.655514645741444, 32.43810065759578, 95.13749211087914]

	ekf_c_mean = [12.635285123351299, 8.595782324371143, 7.354310068798848, 6.5873962650246, 5.715557788573006, 7.4201407647484725, 7.801466084217243]
	ekf_c_anees = [19.621376403494594, 5.02196041739916, 2.743451886899733, 0.9600490249374183, 0.4906222814097353, 0.43086209412421345, 0.3651829207931709]
	pf_c_mean = [70.13332694833521, 24.38602744553089, 13.851334089052163, 8.303740280012798,
	8.513512090454473, 11.31177369378044, 25.93437824381072]
	pf_c_anees = [667464878600.7678, 4170518324.6902413, 18438.26983846687, 8.785720349845459, 
	0.6705123822757646, 0.46443929246855775, 0.4707653579305081]

	pf_d_mean_20 =  [2.2263802063121325, 2.798781022756699, 4.932242550571835, 7.177359975543985, 24.9816800099654, 45.17751513987858, 80.60752216463894]
	pf_d_anees_20 = [461.763273904756, 23.980671824088233, 82.97824200989282, 4.6805206567098425, 35.97651358594221, 19.71853894206006, 26.73235464901994]
	
	pf_d_mean_50 =  [1.275641601302238, 2.2648709531655737, 5.628013724767079, 5.685109005508864, 6.16457737705757, 40.577688185894225, 199.59322123998035]
	pf_d_anees_50 =  [7.374427367293808, 5.57329487501255, 9.660988489466357, 1.5653764910839598, 0.9133265068187167, 4.216233911631753, 37.87133590602044]

	pf_d_mean_500 =  [0.5299024578558388, 1.803597719694168, 2.7518158659276084, 9.761801605816233, 16.609829773404904, 40.297186069916414, 115.16057917580788]
	pf_d_anees_500 = [0.6252492616071578, 1.0331866846696929, 0.9042195463239189, 1.9316868277026653, 1.3321245333197953, 2.6702574690322507, 2.171036806227464]

	x_real = [1/64, 1/16, 1/4, 1, 4, 16, 64]
	x = [1,2,3,4,5,6,7]
	y = [ 0.80296538,  1.59379639,  3.1717351,  14.20793462, 39.92347695, 91.35027801]

	a = [12.109717190280012, 8.349111275657268, 6.3606293695922425, 6.987473753485441, 7.735610338713696, 7.331385016714215]
	b = [21.01319705238837, 5.804879982803533, 1.943014080841495, 0.5837598591218106, 0.4325343021127363, 0.36471155199820254]
	# plt.plot(x,pf_d_mean_20,label="pf_d_mean_20")
	# plt.plot(x,pf_d_mean_50,label="pf_d_mean_50")
	# plt.plot(x,pf_d_mean_500,label="pf_d_mean_500")
	# plt.plot(x,pf_d_anees_20,label="pf_d_anees_20")
	# plt.plot(x,pf_d_anees_50,label="pf_d_anees_50")
	# plt.plot(x,pf_d_anees_500,label="pf_d_anees_500")
	# plt.xscale("log")

	plt.plot(x,ekf_b_mean,label="ekf_b_mean")
	# plt.plot(x,ekf_c_mean,label="ekf_c_mean")
	# plt.plot(x,ekf_c_anees,label="ekf_c_anees")

	plt.title("EKF Part b")
	plt.xlabel("factor")
	plt.xticks(x,x_real)
	plt.ylabel("error")
	plt.legend()
	plt.show()
	
